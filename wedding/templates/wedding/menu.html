{% extends 'wedding/base.html' %}

{% block title %}Menu - {{ block.super }}{% endblock %}

{% block content %}
<div class="container">
    <h2 class="section-title">Menu Weselne</h2>
    
    {% for course_name, items in menu_items.items %}
    <div class="menu-section">
        <h3>
            {% if 'powitalny' in course_name %}ğŸ¥‚{% elif 'Przystawka' in course_name %}ğŸ¤{% elif 'Zupa' in course_name %}ğŸ²{% elif 'gÅ‚Ã³wne' in course_name %}ğŸ½ï¸{% elif 'Deser' in course_name %}ğŸ°{% elif 'Napoje' in course_name %}ğŸ¥¤{% else %}ğŸ´{% endif %}
            {{ course_name }}
        </h3>
        {% for item in items %}
        <div class="menu-item">
            <div class="d-flex justify-content-between align-items-start">
                <div class="flex-grow-1">
                    <div class="dish-name">
                        {{ item.name }}
                        {% if item.vegetarian %}<span class="badge badge-success ml-2">Vegetarian</span>{% endif %}
                    </div>
                    <div class="dish-description">{{ item.description }}</div>
                    {% if item.allergens %}
                    <small class="text-muted">
                        <i class="fas fa-exclamation-triangle"></i> 
                        Alergeny: {{ item.allergens }}
                    </small>
                    {% endif %}
                </div>
                {% if item.price %}
                <div class="price">{{ item.price }} zÅ‚</div>
                {% endif %}
            </div>
        </div>
        {% endfor %}
    </div>
    {% empty %}
    <!-- Default menu if no items in database -->
    <div class="menu-section">
        <h3>ğŸ¥‚ Koktajl Powitalny</h3>
        <div class="menu-item">
            <div class="dish-name">Prosecco z malinami</div>
            <div class="dish-description">MusujÄ…ce wino z dodatkiem Å›wieÅ¼ych malin i miÄ™ty</div>
        </div>
        <div class="menu-item">
            <div class="dish-name">CanapÃ© z Å‚ososiem</div>
            <div class="dish-description">Minibagietka z kremem serowym, wÄ™dzonym Å‚ososiem i kaparami</div>
        </div>
    </div>

    <div class="menu-section">
        <h3>ğŸ½ï¸ Obiad Weselny</h3>
        <div class="menu-item">
            <div class="dish-name">Przystawka: Tatar z Å‚ososia</div>
            <div class="dish-description">ÅšwieÅ¼y Å‚osoÅ› z awokado, kaparami i sosem musztardowo-miodowym</div>
        </div>
        <div class="menu-item">
            <div class="dish-name">Zupa: Å»urek staropolski</div>
            <div class="dish-description">Tradycyjny Å¼urek z biaÅ‚Ä… kieÅ‚basÄ… i jajkiem w chlebowym garnku</div>
        </div>
        <div class="menu-item">
            <div class="dish-name">Danie gÅ‚Ã³wne: PolÄ™dwica wieprzowa</div>
            <div class="dish-description">PolÄ™dwica w zioÅ‚ach z grillowanymi warzywami i ziemniakami z rozmarynem</div>
        </div>
        <div class="menu-item">
            <div class="dish-name">Deser: Tiramisu</div>
            <div class="dish-description">Klasyczne tiramisu z mascarpone i kawÄ…</div>
        </div>
    </div>

    <div class="menu-section">
        <h3>ğŸ° SÅ‚odki StÃ³Å‚</h3>
        <div class="menu-item">
            <div class="dish-name">Tort weselny</div>
            <div class="dish-description">TrzypiÄ™trowy tort z kremem waniliowym i owocami leÅ›nymi</div>
        </div>
        <div class="menu-item">
            <div class="dish-name">Ciastka i pralinki</div>
            <div class="dish-description">WybÃ³r domowych ciasteczek, makaronikÃ³w i czekoladek</div>
        </div>
    </div>
    {% endfor %}
    
    <div class="text-center mt-4">
        <div class="alert alert-warning">
            <i class="fas fa-utensils"></i>
            JeÅ›li masz specjalne wymagania dietetyczne lub alergie, skontaktuj siÄ™ z organizatorami przed wydarzeniem.
        </div>
    </div>
</div>
{% endblock %}